
plugin.tx_community {

	pages {
		userStorage = 0
		aclStorage = 0
		groupStorage = 0

		userProfile = 0
		userEdit = 0
		userRegistration = 0

		relationshipEdit = 0

		groupList = 0
		groupProfile = 0
		groupEdit = 0

		searchAdvanced = 0
		searchResults = 0
	}

	accessManagement {
		# uid of the role, which should be used as default role
		addAsFriendDefaultRoleId = 0

		# uid of the role for all people. also not community members
		anonymousRoleId = 0

		# uid of the role for all community members
		communityMemberRoleId = 0
	}

	general {
		communityName = My Community

		dateFormat.date = d.m.Y
	}

	applications {
		userProfile {
			widgets {
				image {
					defaultImage = {$plugin.tx_community.images.defaultUser}

					profileImage = IMAGE
					profileImage {
						file < plugin.tx_community.applications.userProfile.widgets.image.defaultImage
						file.maxW = 150
						file.maxH = 200
					}

					thumbnail = IMAGE
					thumbnail {
						file < plugin.tx_community.applications.userProfile.widgets.image.defaultImage
						file.maxW = 50
					}

					squaredThumbnail = IMAGE
					squaredThumbnail {
						file < plugin.tx_community.applications.userProfile.widgets.image.defaultImage
							// TODO add cropping
						file.maxW = 75
						file.maxH = 75
					}
				}

				widget {
					templateFile = EXT:community/resources/templates/userprofile/widgetwidget.htm
				}

				personalInformation {
					templateFile = EXT:community/resources/templates/userprofile/personalinformationwidget.htm
				}

				profileActions {
					templateFile = EXT:community/resources/templates/userprofile/profileactionswidget.htm
				}

				friendsBirthdayList {
					templateFile = EXT:community/resources/templates/userprofile/friendsbirthdaylistwidget.htm

					maxNumberOfItemsShown = 5
				}

				myGroups {
					templateFile = EXT:community/resources/templates/userprofile/mygroupswidget.htm
				}

				onlineFriends {
					templateFile = EXT:community/resources/templates/userprofile/onlinefriendswidget.htm

					onlineTimeOut = 3600
				}

				lastVisitors {
					templateFile = EXT:community/resources/templates/userprofile/lastvisitorswidget.htm

					numberOfLastVisitorsToLog = 5
				}
			}
		}

		groupProfile {
			widgets {
				image {
					defaultImage = {$plugin.tx_community.images.defaultGroup}

					groupImage = IMAGE
					groupImage {
						file < plugin.tx_community.applications.groupProfile.widgets.image.defaultImage
						file.maxW = 150
						file.maxH = 200
					}

					thumbnail = IMAGE
					thumbnail {
						file < plugin.tx_community.applications.groupProfile.widgets.image.defaultImage
						file.maxW = 50
					}

					squaredThumbnail = IMAGE
					squaredThumbnail {
						file < plugin.tx_community.applications.groupProfile.widgets.image.defaultImage
							// TODO add cropping
						file.maxW = 75
						file.maxH = 75
					}
				}

				profileActions {
					templateFile = EXT:community/resources/templates/groupprofile/profileactionswidget.htm
				}

				groupInformation {
					templateFile = EXT:community/resources/templates/groupprofile/groupinformationwidget.htm
				}

				memberList {
					templateFile = EXT:community/resources/templates/groupprofile/memberlistwidget.htm
				}
			}
		}

		search {

			templateFile = EXT:community/resources/templates/search/index.htm

			widgets {
				quickSearchInput {
					templateFile = EXT:community/resources/templates/search/quicksearchinputwidget.htm
				}
			}

			searchFieldGroups {
				10 {
					label = EXT:community/lang/locallang_search.xml:search_fieldgroup_basic
					fields = name, sex
				}

				20 {
					label = EXT:community/lang/locallang_search.xml:search_fieldgroup_contact
					fields = city, email, im
				}

				30 {
					label = EXT:community/lang/locallang_search.xml:search_fieldgroup_personal
					fields = activities, interests, music, tvshows, movies, books, about
				}
			}

			searchFields {
				// default compare mode is equal
				// default validation is string, strip tags

				name {
					label = EXT:community/lang/locallang_search.xml:search_field_name
					searchIn = tx_community_nickname, tx_community_firstname, tx_community_middlename, tx_community_lastname
					type = text
					compareMode = like
				}

				sex {
					label = EXT:community/lang/locallang_search.xml:search_field_sex
					searchIn = tx_community_sex
					type = select
					selectOptions {
						10 = 0|
						20 = m|EXT:community/lang/locallang_search.xml:search_field_sex_male
						30 = f|EXT:community/lang/locallang_search.xml:search_field_sex_female
					}
				}

				city {
					label = EXT:community/lang/locallang_search.xml:search_field_city
					searchIn = city
					type = text
				}

				email {
					label = EXT:community/lang/locallang_search.xml:search_field_email
					searchIn = email
					type = text
					validate = email
				}

				im {
					label = EXT:community/lang/locallang_search.xml:search_field_im
					searchIn = tx_community_instantmessager
					type = text
				}

				activities {
					label = EXT:community/lang/locallang_search.xml:search_field_activities
					searchIn = tx_community_activities
					type = text
					compareMode = like
				}

				interests {
					label = EXT:community/lang/locallang_search.xml:search_field_interests
					searchIn = tx_community_interests
					type = text
					compareMode = like
				}

				music {
					label = EXT:community/lang/locallang_search.xml:search_field_music
					searchIn = tx_community_favoritemusic
					type = text
					compareMode = like
				}

				tvshows {
					label = EXT:community/lang/locallang_search.xml:search_field_tvshows
					searchIn = tx_community_favoritetvshows
					type = text
					compareMode = like
				}

				movies {
					label = EXT:community/lang/locallang_search.xml:search_field_movies
					searchIn = tx_community_favoritetvshows
					type = text
					compareMode = like
				}

				books {
					label = EXT:community/lang/locallang_search.xml:search_field_books
					searchIn = tx_community_favoritebooks
					type = text
					compareMode = like
				}

				about {
					label = EXT:community/lang/locallang_search.xml:search_field_about
					searchIn = tx_community_aboutme
					type = text
					compareMode = like
				}
			}
		}

		userList {
			templateFile = EXT:community/resources/templates/userlist/index.htm
		}

		privacy {
			templateFile = EXT:community/resources/templates/privacy/index.htm
		}

		invite {
			templateFile = EXT:community/resources/templates/invite/index.htm
		}

		createGroup {
			templateFile = EXT:community/resources/templates/creategroup/index.htm
		}

		listGroups {
			groupImage = IMAGE
			groupImage {
				// will be overwriten if an user image is available
				file = {$plugin.tx_community.images.defaultGroup}
				file {
					maxW = 100
					maxH = 100
				}
			}
			templateFile = EXT:community/resources/templates/listgroups/index.htm
			listType	 = allGroups
		}

		editGroup {
			templateFile = EXT:community/resources/templates/editgroup/index.htm
			defaultIcon = {$plugin.tx_community.images.defaultGroup}
			uploadPath = uploads/tx_community/
			previewImage = IMAGE
			previewImage {
				file = will be overwriten
				file {
					maxW = 268
					maxH = 268
				}
				params = id="tx-community-group-image"
			}
			memberlist {
				actions {
					# actions for unconfirmed members
					tmpMembers {
						confirmRequest = TEXT
						confirmRequest.data = LLL:EXT:community/lang/locallang_editgroup.xml:label_confirmRequest
						confirmRequest.wrap = <span class="confirmRequest" id="confirmRequest%UID%">|</span>
						rejectRequest = TEXT
						rejectRequest.data = LLL:EXT:community/lang/locallang_editgroup.xml:label_rejectRequest
						rejectRequest.wrap = <span class="rejectRequest" id="rejectRequest%UID%">|</span>
					}
					# actions for admin members
					admins {
					}
					# actions for other members
					other {
						makeAdmin = TEXT
						makeAdmin.data = LLL:EXT:community/lang/locallang_editgroup.xml:label_makeAdmin
						makeAdmin.wrap = <span class="makeAdmin" id="makeAdmin%UID%">|</span>
						removeMember = TEXT
						removeMember.data = LLL:EXT:community/lang/locallang_editgroup.xml:label_removeMember
						removeMember.wrap = <span class="removeMember" id="removeMember%UID%">|</span>
					}
				}
			}
		}
	}

	controller {

		communityApplication = USER_INT
		communityApplication {
			includeLibs = EXT:community/controller/class.tx_community_controller_communityapplication.php
			userFunc = tx_community_controller_CommunityApplication->execute
		}

		userProfile = USER_INT
		userProfile {
			includeLibs = EXT:community/controller/class.tx_community_controller_userprofileapplication.php
			userFunc = tx_community_controller_UserProfileApplication->execute
		}

		groupProfile = USER_INT
		groupProfile {
			includeLibs = EXT:community/controller/class.tx_community_controller_groupprofileapplication.php
			userFunc = tx_community_controller_GroupProfileApplication->execute
		}

		editGroup = USER_INT
		editGroup {
			includeLibs = EXT:community/controller/class.tx_community_controller_editgroupapplication.php
			userFunc = tx_community_controller_EditGroupApplication->execute
		}
	}
}

page.includeJS {
	community_editgroup_form			= EXT:community/resources/jquery.form.js
	community_editgroup_autocomplete	= EXT:community/resources/jquery.autocomplete.js
	community_editgroup_control			= EXT:community/resources/jquery_editgroup_control.js
	community_editgroup_upload  		= EXT:community/resources/jquery.ocupload-1.1.1.js
}

	// adding the application controllers
tt_content.list.20.community_CommunityApplication = < plugin.tx_community.controller.communityApplication
tt_content.list.20.community_UserProfile = < plugin.tx_community.controller.userProfile
tt_content.list.20.community_GroupProfile = < plugin.tx_community.controller.groupProfile
tt_content.list.20.community_EditGroup = < plugin.tx_community.controller.editGroup


